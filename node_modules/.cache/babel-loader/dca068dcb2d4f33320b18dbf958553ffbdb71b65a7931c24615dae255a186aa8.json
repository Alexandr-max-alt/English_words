{"ast":null,"code":"import React from\"react\";import'./style-card.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const Card=_ref=>{let{saveToLocal,allCards,setListMemorization,stepMix,setStepMix,getRandom,setRandomIndex,randomIndex,cards,setCards,setFinish,setMemorized,memorized,setShowMemory,showMemory}=_ref;const[showResult,setShowResult]=React.useState(false);const[isButtonDisabled,setIsButtonDisabled]=React.useState(false);function checkSteps(Cards){if(stepMix>3){setShowMemory(true);setRandomIndex(getRandom(memorized));setStepMix(0);}else{setRandomIndex(getRandom(Cards));setShowMemory(false);};}function handleShowNextCard(id){setStepMix(++stepMix);setMemorized(memorized=>{const updateCards=[...memorized,cards.filter(obj=>obj.id===id)].flat();saveToLocal(updateCards,'memorized');return updateCards;});setCards(cards=>{const updateCards=cards.filter(obj=>obj.id!==id);updateCards.length>0?checkSteps(updateCards):setFinish(true);saveToLocal(updateCards,'cards');return updateCards;});}function handleShowResult(id){setShowResult(true);setIsButtonDisabled(true);setTimeout(()=>{setShowResult(false);setIsButtonDisabled(false);setListMemorization(list=>{const updateList=[...new Set([...list,allCards.filter(obj=>obj.id===id)].flat())];saveToLocal(updateList,'cardsForMemory');return updateList;});setMemorized(memorizedCards=>{const updateCards=memorizedCards.filter(obj=>obj.id!==id);saveToLocal(updateCards,'memorized');return updateCards;});setShowMemory(false);const newIndex=getRandom(cards);setRandomIndex(newIndex);},5000);}const card=cards[randomIndex];const memoriedCard=memorized[randomIndex];return/*#__PURE__*/_jsxs(\"div\",{id:showMemory?memoriedCard===null||memoriedCard===void 0?void 0:memoriedCard.id:card.id,class:\"card\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"card-name\",children:showMemory?memoriedCard===null||memoriedCard===void 0?void 0:memoriedCard.name:card.name}),/*#__PURE__*/_jsx(\"h1\",{class:\"card-translation \".concat(showResult&&'show-answer'),children:showMemory?memoriedCard===null||memoriedCard===void 0?void 0:memoriedCard.translation:card.translation}),/*#__PURE__*/_jsxs(\"div\",{class:\"card-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleShowNextCard(showMemory?memoriedCard===null||memoriedCard===void 0?void 0:memoriedCard.id:card.id),class:\"card-button-yes\",disabled:isButtonDisabled,children:\"I know\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleShowResult(showMemory?memoriedCard===null||memoriedCard===void 0?void 0:memoriedCard.id:card.id),class:\"card-button-no\",disabled:isButtonDisabled,children:\"Don't know\"})]})]},showMemory?memoriedCard===null||memoriedCard===void 0?void 0:memoriedCard.id:card.id);};","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Card","_ref","saveToLocal","allCards","setListMemorization","stepMix","setStepMix","getRandom","setRandomIndex","randomIndex","cards","setCards","setFinish","setMemorized","memorized","setShowMemory","showMemory","showResult","setShowResult","useState","isButtonDisabled","setIsButtonDisabled","checkSteps","Cards","handleShowNextCard","id","updateCards","filter","obj","flat","length","handleShowResult","setTimeout","list","updateList","Set","memorizedCards","newIndex","card","memoriedCard","class","children","name","concat","translation","onClick","disabled"],"sources":["C:/Users/ALEX/Desktop/test/src/Components/Card/Card.jsx"],"sourcesContent":["import React from \"react\";\r\nimport './style-card.css';\r\n\r\nexport const Card = ({ saveToLocal, allCards, setListMemorization, stepMix, setStepMix, getRandom, setRandomIndex, randomIndex, cards, setCards, setFinish , setMemorized, memorized, setShowMemory, showMemory}) => {\r\n    const [showResult, setShowResult] = React.useState(false);\r\n    const [isButtonDisabled, setIsButtonDisabled] = React.useState(false);\r\n\r\n    function checkSteps(Cards) {\r\n        if (stepMix > 3) {\r\n            setShowMemory(true);\r\n            setRandomIndex(getRandom(memorized));\r\n\r\n            setStepMix(0);\r\n        } else {\r\n            setRandomIndex(getRandom(Cards));\r\n            setShowMemory(false);\r\n        };\r\n    }\r\n\r\n    function handleShowNextCard(id) { \r\n        setStepMix(++stepMix);\r\n\r\n        setMemorized(memorized => {\r\n            const updateCards = [...memorized, cards.filter(obj => obj.id === id)].flat();\r\n\r\n            saveToLocal(updateCards, 'memorized');\r\n            return updateCards;\r\n        });\r\n\r\n        setCards(cards => {\r\n            const updateCards = cards.filter(obj => obj.id !== id);\r\n            updateCards.length > 0 ? checkSteps(updateCards) : setFinish(true);\r\n\r\n            saveToLocal(updateCards, 'cards')\r\n            return updateCards;\r\n        });\r\n    }\r\n\r\n    function handleShowResult(id) {\r\n        setShowResult(true);\r\n        setIsButtonDisabled(true);\r\n\r\n        setTimeout(() => {\r\n            setShowResult(false);\r\n            setIsButtonDisabled(false);\r\n\r\n                    setListMemorization(list => {\r\n                        const updateList = [...new Set([...list, allCards.filter(obj => obj.id === id)].flat())];\r\n                        \r\n                        saveToLocal(updateList, 'cardsForMemory');\r\n                        return updateList;\r\n                    });\r\n\r\n                    setMemorized(memorizedCards => {\r\n                        const updateCards = memorizedCards.filter(obj => obj.id !== id);\r\n\r\n                        saveToLocal(updateCards, 'memorized');\r\n                        return updateCards;\r\n                    });\r\n                    setShowMemory(false);\r\n\r\n                    const newIndex = getRandom(cards);\r\n                    setRandomIndex(newIndex);\r\n\r\n        }, 5000);\r\n    }\r\n\r\n    const card = cards[randomIndex];\r\n    const memoriedCard = memorized[randomIndex];\r\n\r\n    return (\r\n        <div key= {showMemory? memoriedCard?.id : card.id} id={showMemory? memoriedCard?.id : card.id}  class=\"card\">\r\n            <h1 class=\"card-name\">{showMemory? memoriedCard?.name : card.name}</h1>\r\n            <h1 class={`card-translation ${showResult && 'show-answer'}`}>{showMemory? memoriedCard?.translation : card.translation}</h1>\r\n            <div class=\"card-buttons\">\r\n                <button\r\n                    onClick={() => handleShowNextCard(showMemory? memoriedCard?.id : card.id)}\r\n                    class=\"card-button-yes\"\r\n                    disabled={isButtonDisabled}\r\n                >I know\r\n                </button>\r\n                <button\r\n                    onClick={() => handleShowResult(showMemory ? memoriedCard?.id : card.id)}\r\n                    class=\"card-button-no\"\r\n                    disabled={isButtonDisabled}\r\n                >Don't know\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}